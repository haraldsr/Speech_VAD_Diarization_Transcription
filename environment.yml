name: wp1_pyannote
channels:
  - conda-forge
  - defaults
dependencies:
  # Python version
  - python=3.10
  
  # Essential system libraries (conda-managed for better compatibility)
  - ffmpeg=7.*  # torchcodec 0.7.0 requires FFmpeg 4-7 (not 8)
  - jupyter
  - jupyterlab
  
  # pip for package installation
  - pip
  
  # All Python packages installed via pip to avoid torch version conflicts
  - pip:
    # Core Speech & Audio Processing
    - pyannote.audio>=4.0.0
    - speechbrain>=1.0.0
    - transformers>=4.48.0
    - tokenizers>=0.21.0
    
    # Audio I/O
    - soundfile>=0.12.0
    - torchaudio==2.8.0  # Must match torch version
    
    # Speech utilities
    - rvadfast>=0.0.5
    - asteroid-filterbanks>=0.4.0
    - torch-audiomentations>=0.12.0
    
    # Deep Learning (pyannote.audio 4.0.1 requires torch==2.8.0)
    - torch==2.8.0
    - torchaudio==2.8.0
    - torchcodec==0.7.0
    - torchvision==0.23.0  # Compatible with torch 2.8
    - torchmetrics>=1.8.0
    
    # Scientific Computing
    - numpy>=1.25.0
    - scipy>=1.11.0
    - pandas>=2.2.0
    
    # Machine Learning
    - scikit-learn>=1.0.0
    - pytorch-metric-learning>=2.9.0
    - lightning>=2.5.0
    
    # Data & Configuration
    - datasets>=4.0.0
    - huggingface-hub>=0.36.0
    - pyyaml>=6.0
    - hyperpyyaml>=1.2.0
    - ruamel.yaml>=0.18.0
    
    # Utilities
    - tqdm>=4.65.0
    - rich>=14.0.0
    - ipywidgets>=8.0.0
    
    # Development tools (optional)
    - black>=23.0.0
    - flake8>=6.0.0
    - isort>=5.12.0
    - mypy>=1.7.0
